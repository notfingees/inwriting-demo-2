(function(e){function t(t){for(var r,c,i=t[0],s=t[1],l=t[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={write:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;a.push([28,"chunk-vendors","chunk-common"]),n()})({28:function(e,t,n){e.exports=n("fee9")},5405:function(e,t,n){"use strict";n("dcc2")},dcc2:function(e,t,n){},fee9:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e792"),n("0cdd");var r=n("2b0e"),o=(n("135e"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.written_text,expression:"written_text"}],staticClass:"text_write",attrs:{onkeyup:"this.style.height='24px'; this.style.height = this.scrollHeight + 12 + 'px';"},domProps:{value:e.written_text},on:{input:function(t){t.target.composing||(e.written_text=t.target.value)}}}),n("div",{staticClass:"checkout"},[e._m(0),n("div",{staticClass:"formatting_options"},[n("input",{attrs:{type:"radio",name:"formatting_options_name",id:"no_format",value:"Mint as-is (no formatting)",checked:""}}),n("label",{attrs:{for:"no_format"}},[e._v("Mint as-is (no formatting)")]),n("br"),n("br"),n("button",{staticClass:"preview_button",attrs:{type:"button"},on:{click:e.openPopup}},[e._v("Preview")])]),n("div",{staticClass:"formatting_options"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.locked,expression:"locked"}],attrs:{type:"radio",name:"lock_unlock_name",id:"lock",value:"Lock"},domProps:{checked:e._q(e.locked,"Lock")},on:{change:function(t){e.locked="Lock"}}}),n("label",{attrs:{for:"lock"}},[e._v("Mint as locked NFT (recommended)")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.locked,expression:"locked"}],attrs:{type:"radio",name:"lock_unlock_name",id:"unlock",value:"Unlock"},domProps:{checked:e._q(e.locked,"Unlock")},on:{change:function(t){e.locked="Unlock"}}}),n("label",{attrs:{for:"unlock"}},[e._v("Mint as unlocked NFT (?)")]),n("br"),n("br"),"Unlock"==e.locked?n("label",{staticStyle:{"padding-right":"20px"},attrs:{for:"confirm_checkbox_unlock"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm_checkbox_unlock,expression:"confirm_checkbox_unlock"}],attrs:{type:"checkbox",name:"toc",id:"confirm_checkbox_unlock"},domProps:{checked:Array.isArray(e.confirm_checkbox_unlock)?e._i(e.confirm_checkbox_unlock,null)>-1:e.confirm_checkbox_unlock},on:{change:function(t){var n=e.confirm_checkbox_unlock,r=t.target,o=!!r.checked;if(Array.isArray(n)){var a=null,c=e._i(n,a);r.checked?c<0&&(e.confirm_checkbox_unlock=n.concat([a])):c>-1&&(e.confirm_checkbox_unlock=n.slice(0,c).concat(n.slice(c+1)))}else e.confirm_checkbox_unlock=o}}}),e._v(" I have read the "),e._m(1),e._v(" and understand what it means to mint an unlocked NFT")]):e._e()]),n("div",{staticClass:"sale_options"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.list,expression:"list"}],attrs:{type:"radio",name:"sale_options_name",id:"dont_list",value:"unlisted"},domProps:{checked:e._q(e.list,"unlisted")},on:{change:function(t){e.list="unlisted"}}}),n("label",{attrs:{for:"dont_list"}},[e._v("Don't list for sale")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.list,expression:"list"}],attrs:{type:"radio",name:"sale_options_name",id:"list",value:"listed"},domProps:{checked:e._q(e.list,"listed")},on:{change:function(t){e.list="listed"}}}),n("label",{attrs:{for:"list"}},[e._v("List for sale")]),n("br"),n("br"),"listed"==e.list?n("label",{staticStyle:{"padding-right":"20px"},attrs:{for:"sot"}},[e._v("Price (wei)")]):e._e(),"listed"==e.list?n("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],staticStyle:{"font-size":"1.5vw","border-width":"0px 0px 1px 0px"},attrs:{type:"number",name:"sale_options_text",id:"sot",placeholder:"Price"},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}}):e._e(),"listed"==e.list?n("br"):e._e(),"listed"==e.list?n("label",{staticStyle:{"padding-right":"20px"},attrs:{for:"confirm_checkbox"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm_checkbox,expression:"confirm_checkbox"}],attrs:{type:"checkbox",name:"toc",id:"confirm_checkbox"},domProps:{checked:Array.isArray(e.confirm_checkbox)?e._i(e.confirm_checkbox,null)>-1:e.confirm_checkbox},on:{change:function(t){var n=e.confirm_checkbox,r=t.target,o=!!r.checked;if(Array.isArray(n)){var a=null,c=e._i(n,a);r.checked?c<0&&(e.confirm_checkbox=n.concat([a])):c>-1&&(e.confirm_checkbox=n.slice(0,c).concat(n.slice(c+1)))}else e.confirm_checkbox=o}}}),e._v(" I have read the "),e._m(2),e._v(" and am sure I want to list this item for "+e._s(e.price/1e18)+" ETH")]):e._e()]),e._m(3),n("div",{staticClass:"checkout_details"},[n("table",[e._m(4),n("tr",[n("td",[n("span",{staticStyle:{display:"inline-block"}},["Unlock"==e.locked?n("p",{staticStyle:{display:"inline-block"}},[e._v("Unlocked ")]):e._e(),e._v(" Text NFT")])]),n("td",[e._v(e._s(e.est_gas_price)+" ETH"),n("br"),e._v("($"+e._s((e.est_gas_price*e.ether_price).toFixed(2))+")>")])])]),n("button",{attrs:{type:"button"},on:{click:function(t){return e.mint(e.written_text)}}},[e._v("Mint")])])]),n("div",{attrs:{id:"spacer"}}),n("Footer"),n("NavBar"),n("PreviewPopup",{ref:"popup",attrs:{text:e.written_text,open:e.popup_open},on:{close:e.openPopup}}),n("ActionRegistered",{staticClass:"actionRegistered",attrs:{text:e.action_register_text,icon:e.action_register_icon}})],1)}),a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkout_header"},[n("p",{staticClass:"checkout_text"},[e._v("Options")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("a",{attrs:{href:"#"}},[e._v("documentation")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("a",{attrs:{href:"#"}},[e._v("terms and conditions")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkout_header_top_included"},[n("p",{staticClass:"checkout_text"},[e._v("Checkout")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",{staticStyle:{width:"40vw"}},[e._v("Item")]),n("th",[e._v("Subtotal")])])}],c=n("1da1"),i=(n("96cf"),n("ac1f"),n("841c"),n("d3b7"),n("3ca3"),n("ddb0"),n("9861"),n("25f0"),n("d000")),s=n("fd2d"),l=n("f0e1"),u=n("870e"),d=n("1157"),p=n.n(d),_=n("e762"),m={name:"App",components:{NavBar:i["a"],Footer:s["a"],PreviewPopup:l["a"],ActionRegistered:u["a"]},data:function(){return{written_text:"Ligma",list:"unlisted",price:null,popup_open:!1,est_gas_price:null,est_total_price:null,ether_price:null,account:null,confirm_checkbox:null,confirm_checkbox_unlock:null,locked:"Lock",action_register_text:null,action_register_icon:null,alchemy_api_url:null}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=window.location.search.substring(1),r=new URLSearchParams(n),e.$data.written_text=r.get("userString"),window.ethereum?console.log("Metamask Installed"):console.log("Please install MetaMask!"),t.prev=4,t.next=7,window.ethereum.request({method:"eth_requestAccounts"});case 7:o=t.sent,e.$data.account=o[0],t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](4),e.manageActionRegister("❗️","Error. Check to make sure you're logged in to MetaMask"),console.log(t.t0);case 15:a=e,p.a.post("https://www.sunrisesapp.com/inwriting/get_alchemy_api.php",(function(e){a.alchemy_api_url=e[0]["alchemy"]}),"json"),p.a.post("https://www.sunrisesapp.com/inwriting/get_ethereum_price.php",(function(e){console.log("Adding to buffer pool returned "+e),a.ether_price=e[0]["ethereum"]}),"json");case 18:case"end":return t.stop()}}),t,null,[[4,11]])})))()},watch:{price:function(e){e>1157920892373162e62&&(this.$data.price=Math.floor(e/10),this.manageActionRegister("❌","Error. Number is too large"))},written_text:function(e){e.length<=73?(p()(".text_write").css("font-size","3.5rem"),p()(".text_write").css("text-align","center")):e.length<=289?(p()(".text_write").css("font-size","1.75rem"),p()(".text_write").css("text-align","left")):(p()(".text_write").css("font-size","0.875rem"),p()(".text_write").css("text-align","left")),this.estimateGas(e)}},methods:{test_unlock_append:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var o,a,c,i,s,l,u,d,p,_,m;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("in test unlock append"),o=t.$data.alchemy_api_url,a=n("47fa"),c=a.createAlchemyWeb3,i=c(o),s=n("767a"),l="0xBD41d08C2EDFA1a477aC4a9623B00f8A4A98b096",u=new i.eth.Contract(s.abi,l),r.next=9,i.eth.getTransactionCount(t.$data.account,"latest");case 9:return d=r.sent,p=5e6,_={},_={from:t.$data.account,to:l,nonce:d.toString(16),gas:p.toString(16),data:u.methods.append_to_NFT(4,e).encodeABI()},r.prev=13,r.next=16,window.ethereum.request({method:"eth_sendTransaction",params:[_]});case 16:return m=r.sent,r.abrupt("return",{success:!0,status:"✅ Check out your transaction on Etherscan: https://ropsten.etherscan.io/tx/"+m});case 20:return r.prev=20,r.t0=r["catch"](13),r.abrupt("return",{success:!1,status:"😥 Something went wrong: "+r.t0.message});case 23:case"end":return r.stop()}}),r,null,[[13,20]])})))()},manageActionRegister:function(e,t){this.$data.action_register_text=t,this.$data.action_register_icon=e,p()(".actionRegistered").toggle(200),setTimeout((function(){p()(".actionRegistered").toggle(400)}),1e4)},openPopup:function(){this.$data.popup_open?this.$data.popup_open=!1:this.$data.popup_open=!0},estimateGas:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var o,a,c,i,s,l,u,d,p,_,m;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=t.$data.alchemy_api_url,a=n("47fa"),c=a.createAlchemyWeb3,i=c(o),s=n("767a"),l="0xBD41d08C2EDFA1a477aC4a9623B00f8A4A98b096",u=new i.eth.Contract(s.abi,l),d=25e15,p=5e6,_={from:t.$data.account,to:l,gas:p,value:d,data:u.methods.mint_NFT(e).encodeABI()},m=t,i.eth.estimateGas(_,(function(e,t){console.log("Error is: "+e),console.log("Estimated value is: "+t),m.est_gas_price=t/1e9}));case 11:case"end":return r.stop()}}),r)})))()},mint:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var o,a,c,i,s,l,u,d,p,m,h,f,v;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("iN MINT"),o=t.$data.alchemy_api_url,a=n("47fa"),c=a.createAlchemyWeb3,i=c(o),s=n("767a"),l="0xBD41d08C2EDFA1a477aC4a9623B00f8A4A98b096",u=new i.eth.Contract(s.abi,l),r.next=9,i.eth.getTransactionCount(t.$data.account,"latest");case 9:if(d=r.sent,p=25e15,m=5e6,h={},"listed"!=t.$data.list){r.next=20;break}if(t.$data.confirm_checkbox){r.next=17;break}return t.manageActionRegister("❗️","Please confirm that you want to list this NFT on the marketplace"),r.abrupt("return");case 17:h={from:t.$data.account,to:l,nonce:d.toString(16),gas:m.toString(16),value:p.toString(16),data:u.methods.mint_and_list_NFT(e,t.$data.price).encodeABI()},r.next=21;break;case 20:h={from:t.$data.account,to:l,nonce:d.toString(16),gas:m.toString(16),value:p.toString(16),data:u.methods.mint_NFT(e).encodeABI()};case 21:return r.prev=21,r.next=24,window.ethereum.request({method:"eth_sendTransaction",params:[h]});case 24:return f=r.sent,v=_["a"].encodeURI(e),window.location.href="../success.html?string="+v,r.abrupt("return",{success:!0,status:"✅ Check out your transaction on Etherscan: https://ropsten.etherscan.io/tx/"+f});case 30:return r.prev=30,r.t0=r["catch"](21),r.abrupt("return",{success:!1,status:"😥 Something went wrong: "+r.t0.message});case 33:case"end":return r.stop()}}),r,null,[[21,30]])})))()}}},h=m,f=(n("5405"),n("2877")),v=Object(f["a"])(h,o,a,!1,null,null,null),g=v.exports;r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(g)}}).$mount("#app")}});
//# sourceMappingURL=write.5c7aa028.js.map